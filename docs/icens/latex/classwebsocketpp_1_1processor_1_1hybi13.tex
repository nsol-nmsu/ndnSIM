\hypertarget{classwebsocketpp_1_1processor_1_1hybi13}{}\section{websocketpp\+:\+:processor\+:\+:hybi13$<$ config $>$ Class Template Reference}
\label{classwebsocketpp_1_1processor_1_1hybi13}\index{websocketpp\+::processor\+::hybi13$<$ config $>$@{websocketpp\+::processor\+::hybi13$<$ config $>$}}


Processor for Hybi version 13 (R\+F\+C6455)  




{\ttfamily \#include $<$hybi13.\+hpp$>$}

Inheritance diagram for websocketpp\+:\+:processor\+:\+:hybi13$<$ config $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classwebsocketpp_1_1processor_1_1hybi13}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{classwebsocketpp_1_1processor_1_1processor}{processor}$<$ \hyperlink{classconfig}{config} $>$ {\bfseries base}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a8153dff44df2368d14f2ecd8473ea064}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a8153dff44df2368d14f2ecd8473ea064}

\item 
typedef \hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{config\+::request\+\_\+type} {\bfseries request\+\_\+type}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aaf7438e06dfb60da29ef201f8c8cf2dd}{}\label{classwebsocketpp_1_1processor_1_1hybi13_aaf7438e06dfb60da29ef201f8c8cf2dd}

\item 
typedef \hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response}{config\+::response\+\_\+type} {\bfseries response\+\_\+type}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a5d918ca9c9aa6c38a145f2ef1d2aa38a}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a5d918ca9c9aa6c38a145f2ef1d2aa38a}

\item 
typedef \hyperlink{classwebsocketpp_1_1message__buffer_1_1message}{config\+::message\+\_\+type} {\bfseries message\+\_\+type}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a547b5e5f405468b36b9027f0e973fa15}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a547b5e5f405468b36b9027f0e973fa15}

\item 
typedef message\+\_\+type\+::ptr {\bfseries message\+\_\+ptr}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a0571e90d7261ab722f695feb7dd48fed}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a0571e90d7261ab722f695feb7dd48fed}

\item 
typedef \hyperlink{classwebsocketpp_1_1message__buffer_1_1alloc_1_1con__msg__manager}{config\+::con\+\_\+msg\+\_\+manager\+\_\+type} {\bfseries msg\+\_\+manager\+\_\+type}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a25a9c3d7a121ae54e064f47a6a7a5931}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a25a9c3d7a121ae54e064f47a6a7a5931}

\item 
typedef msg\+\_\+manager\+\_\+type\+::ptr {\bfseries msg\+\_\+manager\+\_\+ptr}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a435c6586650330e0f1685da6b4e70a68}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a435c6586650330e0f1685da6b4e70a68}

\item 
typedef \hyperlink{classwebsocketpp_1_1random_1_1none_1_1int__generator}{config\+::rng\+\_\+type} {\bfseries rng\+\_\+type}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_ad6e55eeed8ec7329fb71abceb4159a5c}{}\label{classwebsocketpp_1_1processor_1_1hybi13_ad6e55eeed8ec7329fb71abceb4159a5c}

\item 
typedef \hyperlink{classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1disabled}{config\+::permessage\+\_\+deflate\+\_\+type} {\bfseries permessage\+\_\+deflate\+\_\+type}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a9e82fb49b851fa427f409aab42d7b6a9}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a9e82fb49b851fa427f409aab42d7b6a9}

\item 
typedef std\+::pair$<$ lib\+::error\+\_\+code, std\+::string $>$ {\bfseries err\+\_\+str\+\_\+pair}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a1ebac644e40640950b65782ccc39a33a}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a1ebac644e40640950b65782ccc39a33a}

\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries hybi13} (bool secure, bool p\+\_\+is\+\_\+server, msg\+\_\+manager\+\_\+ptr manager, \hyperlink{classwebsocketpp_1_1random_1_1none_1_1int__generator}{rng\+\_\+type} \&rng)\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf}{}\label{classwebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf}

\item 
int \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b}{get\+\_\+version} () const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b}{}\label{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b}

\begin{DoxyCompactList}\small\item\em Get the protocol version of this processor. \end{DoxyCompactList}\item 
bool {\bfseries has\+\_\+permessage\+\_\+deflate} () const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af6ad6f16537a2d6c389c56f6cfaf3c57}{}\label{classwebsocketpp_1_1processor_1_1hybi13_af6ad6f16537a2d6c389c56f6cfaf3c57}

\item 
err\+\_\+str\+\_\+pair \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3a8e38f9640fe3b39100101af98fceee}{negotiate\+\_\+extensions} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} const \&req)
\begin{DoxyCompactList}\small\item\em Initializes extensions based on the Sec-\/\+Web\+Socket-\/\+Extensions header. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af17a224a602ebcda5e481d8c249cf37c}{validate\+\_\+handshake} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} const \&r) const
\begin{DoxyCompactList}\small\item\em validate a Web\+Socket handshake request for this version \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383}{process\+\_\+handshake} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} const \&request, std\+::string const \&subprotocol, \hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response}{response\+\_\+type} \&response) const
\begin{DoxyCompactList}\small\item\em Calculate the appropriate response for this websocket request. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38}{client\+\_\+handshake\+\_\+request} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} \&req, \hyperlink{namespacewebsocketpp_aae370ea5ac83a8ece7712cb39fc23f5b}{uri\+\_\+ptr} \hyperlink{classwebsocketpp_1_1uri}{uri}, std\+::vector$<$ std\+::string $>$ const \&subprotocols) const
\begin{DoxyCompactList}\small\item\em Fill in a set of request headers for a client connection request. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8}{validate\+\_\+server\+\_\+handshake\+\_\+response} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} const \&req, \hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response}{response\+\_\+type} \&res) const
\begin{DoxyCompactList}\small\item\em Validate the server\textquotesingle{}s response to an outgoing handshake request. \end{DoxyCompactList}\item 
std\+::string \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab1055402f24f2977c8141eab25b5ee26}{get\+\_\+raw} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1response}{response\+\_\+type} const \&res) const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_ab1055402f24f2977c8141eab25b5ee26}{}\label{classwebsocketpp_1_1processor_1_1hybi13_ab1055402f24f2977c8141eab25b5ee26}

\begin{DoxyCompactList}\small\item\em Given a completed response, get the raw bytes to put on the wire. \end{DoxyCompactList}\item 
std\+::string const  \& \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a02883529d8bf03682c67a4d81a0ef7d5}{get\+\_\+origin} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} const \&r) const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a02883529d8bf03682c67a4d81a0ef7d5}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a02883529d8bf03682c67a4d81a0ef7d5}

\begin{DoxyCompactList}\small\item\em Return the value of the header containing the C\+O\+RS origin. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34}{extract\+\_\+subprotocols} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} const \&req, std\+::vector$<$ std\+::string $>$ \&subprotocol\+\_\+list)
\begin{DoxyCompactList}\small\item\em Extracts requested subprotocols from a handshake request. \end{DoxyCompactList}\item 
\hyperlink{namespacewebsocketpp_aae370ea5ac83a8ece7712cb39fc23f5b}{uri\+\_\+ptr} \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0}{get\+\_\+uri} (\hyperlink{classwebsocketpp_1_1http_1_1parser_1_1request}{request\+\_\+type} const \&request) const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0}

\begin{DoxyCompactList}\small\item\em Extracts client uri from a handshake request. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659}{consume} (uint8\+\_\+t $\ast$buf, size\+\_\+t len, lib\+::error\+\_\+code \&ec)
\begin{DoxyCompactList}\small\item\em Process new websocket connection bytes. \end{DoxyCompactList}\item 
void {\bfseries reset\+\_\+headers} ()\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca}

\item 
bool \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}{ready} () const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}{}\label{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}

\begin{DoxyCompactList}\small\item\em Test whether or not the processor has a message ready. \end{DoxyCompactList}\item 
message\+\_\+ptr \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd}{get\+\_\+message} ()
\begin{DoxyCompactList}\small\item\em Retrieves the most recently processed message. \end{DoxyCompactList}\item 
bool \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6f95f4d45deb00fab39d1fe4441256be}{get\+\_\+error} () const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a6f95f4d45deb00fab39d1fe4441256be}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a6f95f4d45deb00fab39d1fe4441256be}

\begin{DoxyCompactList}\small\item\em Test whether or not the processor is in a fatal error state. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a0e7fbb706a341f7d125c27e7ef001d92}{get\+\_\+bytes\+\_\+needed} () const
\item 
virtual lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab}{prepare\+\_\+data\+\_\+frame} (message\+\_\+ptr in, message\+\_\+ptr out)
\begin{DoxyCompactList}\small\item\em Prepare a user data message for writing. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961}{prepare\+\_\+ping} (std\+::string const \&in, message\+\_\+ptr out) const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961}

\begin{DoxyCompactList}\small\item\em Get U\+RI. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321}{prepare\+\_\+pong} (std\+::string const \&in, message\+\_\+ptr out) const
\begin{DoxyCompactList}\small\item\em Prepare a pong frame. \end{DoxyCompactList}\item 
virtual lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d}{prepare\+\_\+close} (\hyperlink{namespacewebsocketpp_1_1close_1_1status_a8614a5c4733d708e2d2a32191c5bef84}{close\+::status\+::value} code, std\+::string const \&reason, message\+\_\+ptr out) const
\begin{DoxyCompactList}\small\item\em Prepare a close frame. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries state} \{ \\*
{\bfseries H\+E\+A\+D\+E\+R\+\_\+\+B\+A\+S\+IC} = 0, 
{\bfseries H\+E\+A\+D\+E\+R\+\_\+\+E\+X\+T\+E\+N\+D\+ED} = 1, 
{\bfseries E\+X\+T\+E\+N\+S\+I\+ON} = 2, 
{\bfseries A\+P\+P\+L\+I\+C\+A\+T\+I\+ON} = 3, 
\\*
{\bfseries R\+E\+A\+DY} = 4, 
{\bfseries F\+A\+T\+A\+L\+\_\+\+E\+R\+R\+OR} = 5
 \}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c}{process\+\_\+handshake\+\_\+key} (std\+::string \&key) const\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c}{}\label{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c}

\begin{DoxyCompactList}\small\item\em Convert a client handshake key into a server response key in place. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9}{copy\+\_\+basic\+\_\+header\+\_\+bytes} (uint8\+\_\+t const $\ast$buf, size\+\_\+t len)\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9}

\begin{DoxyCompactList}\small\item\em Reads bytes from buf into m\+\_\+basic\+\_\+header. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b}{copy\+\_\+extended\+\_\+header\+\_\+bytes} (uint8\+\_\+t const $\ast$buf, size\+\_\+t len)\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b}

\begin{DoxyCompactList}\small\item\em Reads bytes from buf into m\+\_\+extended\+\_\+header. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867}{process\+\_\+payload\+\_\+bytes} (uint8\+\_\+t $\ast$buf, size\+\_\+t len, lib\+::error\+\_\+code \&ec)
\begin{DoxyCompactList}\small\item\em Reads bytes from buf into message payload. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad}{validate\+\_\+incoming\+\_\+basic\+\_\+header} (\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header} const \&h, bool is\+\_\+server, bool new\+\_\+msg) const
\begin{DoxyCompactList}\small\item\em Validate an incoming basic header. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753}{validate\+\_\+incoming\+\_\+extended\+\_\+header} (\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header} h, \hyperlink{structwebsocketpp_1_1frame_1_1extended__header}{frame\+::extended\+\_\+header} e) const
\begin{DoxyCompactList}\small\item\em Validate an incoming extended header. \end{DoxyCompactList}\item 
void \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}{masked\+\_\+copy} (std\+::string const \&i, std\+::string \&o, \hyperlink{unionwebsocketpp_1_1frame_1_1uint32__converter}{frame\+::masking\+\_\+key\+\_\+type} key) const
\begin{DoxyCompactList}\small\item\em Copy and mask/unmask in one operation. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}{prepare\+\_\+control} (frame\+::opcode\+::value op, std\+::string const \&payload, message\+\_\+ptr out) const
\begin{DoxyCompactList}\small\item\em Generic prepare control frame with opcode and payload. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header} {\bfseries m\+\_\+basic\+\_\+header}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{}\label{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}

\item 
msg\+\_\+manager\+\_\+ptr {\bfseries m\+\_\+msg\+\_\+manager}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc}

\item 
size\+\_\+t {\bfseries m\+\_\+bytes\+\_\+needed}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}

\item 
size\+\_\+t {\bfseries m\+\_\+cursor}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887}

\item 
\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata} {\bfseries m\+\_\+data\+\_\+msg}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}

\item 
\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata} {\bfseries m\+\_\+control\+\_\+msg}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9}

\item 
\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata} $\ast$ {\bfseries m\+\_\+current\+\_\+msg}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}

\item 
\hyperlink{structwebsocketpp_1_1frame_1_1extended__header}{frame\+::extended\+\_\+header} {\bfseries m\+\_\+extended\+\_\+header}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}

\item 
\hyperlink{classwebsocketpp_1_1random_1_1none_1_1int__generator}{rng\+\_\+type} \& {\bfseries m\+\_\+rng}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}

\item 
state {\bfseries m\+\_\+state}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}

\item 
\hyperlink{classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1disabled}{permessage\+\_\+deflate\+\_\+type} {\bfseries m\+\_\+permessage\+\_\+deflate}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename config$>$\\*
class websocketpp\+::processor\+::hybi13$<$ config $>$}

Processor for Hybi version 13 (R\+F\+C6455) 

Definition at line 54 of file hybi13.\+hpp.



\subsection{Member Function Documentation}
\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!client\+\_\+handshake\+\_\+request@{client\+\_\+handshake\+\_\+request}}
\index{client\+\_\+handshake\+\_\+request@{client\+\_\+handshake\+\_\+request}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{client\+\_\+handshake\+\_\+request(request\+\_\+type \&req, uri\+\_\+ptr uri, std\+::vector$<$ std\+::string $>$ const \&subprotocols) const}{client\_handshake\_request(request\_type \&req, uri\_ptr uri, std::vector< std::string > const \&subprotocols) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::client\+\_\+handshake\+\_\+request (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+type} \&}]{req, }
\item[{{\bf uri\+\_\+ptr}}]{uri, }
\item[{std\+::vector$<$ std\+::string $>$ const \&}]{subprotocols}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38}


Fill in a set of request headers for a client connection request. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em req} & Set of headers to fill in \\
\hline
\mbox{\tt in}  & {\em uri} & The uri being connected to \\
\hline
\mbox{\tt in}  & {\em subprotocols} & The list of subprotocols to request \\
\hline
\end{DoxyParams}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_ab5bc7b8f480ee28049f44232115bcaab}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 192 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!consume@{consume}}
\index{consume@{consume}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{consume(uint8\+\_\+t $\ast$buf, size\+\_\+t len, lib\+::error\+\_\+code \&ec)}{consume(uint8\_t *buf, size\_t len, lib::error\_code \&ec)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ size\+\_\+t {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::consume (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buf, }
\item[{size\+\_\+t}]{len, }
\item[{lib\+::error\+\_\+code \&}]{ec}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659}


Process new websocket connection bytes. 

Hybi 13 data streams represent a series of variable length frames. Each frame is made up of a series of fixed length fields. The lengths of later fields are contained in earlier fields. The first field length is fixed by the spec.

This processor represents a state machine that keeps track of what field is presently being read and how many more bytes are needed to complete it

Read two header bytes Extract full frame length. Read extra header bytes Validate frame header (including extension validate) Read extension data into extension message state object Read payload data into payload


\begin{DoxyParams}{Parameters}
{\em buf} & Input buffer\\
\hline
{\em len} & Length of input buffer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes processed or zero on error 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_a14cb7ee9cd5fa60353ba198f1d3d06c5}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 328 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!extract\+\_\+subprotocols@{extract\+\_\+subprotocols}}
\index{extract\+\_\+subprotocols@{extract\+\_\+subprotocols}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{extract\+\_\+subprotocols(request\+\_\+type const \&req, std\+::vector$<$ std\+::string $>$ \&subprotocol\+\_\+list)}{extract\_subprotocols(request\_type const \&req, std::vector< std::string > \&subprotocol\_list)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::extract\+\_\+subprotocols (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+type} const \&}]{req, }
\item[{std\+::vector$<$ std\+::string $>$ \&}]{subprotocol\+\_\+list}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34}


Extracts requested subprotocols from a handshake request. 

Extracts a list of all subprotocols that the client has requested in the given opening handshake request.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em req} & The request to extract from \\
\hline
\mbox{\tt out}  & {\em subprotocol\+\_\+list} & A reference to a vector of strings to store the results in. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_abec64a667b46855187d821abcb7a5247}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 278 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!get\+\_\+bytes\+\_\+needed@{get\+\_\+bytes\+\_\+needed}}
\index{get\+\_\+bytes\+\_\+needed@{get\+\_\+bytes\+\_\+needed}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{get\+\_\+bytes\+\_\+needed() const}{get\_bytes\_needed() const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ size\+\_\+t {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::get\+\_\+bytes\+\_\+needed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a0e7fbb706a341f7d125c27e7ef001d92}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a0e7fbb706a341f7d125c27e7ef001d92}
Retrieves the number of bytes presently needed by the processor This value may be used as a hint to the transport layer as to how many bytes to wait for before running consume again. 

Reimplemented from \hyperlink{classwebsocketpp_1_1processor_1_1processor_a141bc4565dc27e047df1251f117543b4}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 499 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!get\+\_\+message@{get\+\_\+message}}
\index{get\+\_\+message@{get\+\_\+message}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{get\+\_\+message()}{get\_message()}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ message\+\_\+ptr {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::get\+\_\+message (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd}


Retrieves the most recently processed message. 

Retrieves a shared pointer to the recently completed message if there is one. If \hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}{ready()} returns true then there is a message available. Retrieving the message with get\+\_\+message will reset the state of ready. As such, each new message may be retrieved only once. Calling get\+\_\+message when there is no message available will result in a null pointer being returned.

\begin{DoxyReturn}{Returns}
A pointer to the most recently processed message or a null shared pointer. 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_afb9477aa9e49a7dca59d684277b66932}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 476 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!masked\+\_\+copy@{masked\+\_\+copy}}
\index{masked\+\_\+copy@{masked\+\_\+copy}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{masked\+\_\+copy(std\+::string const \&i, std\+::string \&o, frame\+::masking\+\_\+key\+\_\+type key) const}{masked\_copy(std::string const \&i, std::string \&o, frame::masking\_key\_type key) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ void {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::masked\+\_\+copy (
\begin{DoxyParamCaption}
\item[{std\+::string const \&}]{i, }
\item[{std\+::string \&}]{o, }
\item[{{\bf frame\+::masking\+\_\+key\+\_\+type}}]{key}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}


Copy and mask/unmask in one operation. 

Reads input from one string and writes unmasked output to another.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em i} & The input string. \\
\hline
\mbox{\tt out}  & {\em o} & The output string. \\
\hline
\mbox{\tt in}  & {\em key} & The masking key to use for masking/unmasking \\
\hline
\end{DoxyParams}


Definition at line 881 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!negotiate\+\_\+extensions@{negotiate\+\_\+extensions}}
\index{negotiate\+\_\+extensions@{negotiate\+\_\+extensions}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{negotiate\+\_\+extensions(request\+\_\+type const \&req)}{negotiate\_extensions(request\_type const \&req)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ err\+\_\+str\+\_\+pair {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::negotiate\+\_\+extensions (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+type} const \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a3a8e38f9640fe3b39100101af98fceee}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a3a8e38f9640fe3b39100101af98fceee}


Initializes extensions based on the Sec-\/\+Web\+Socket-\/\+Extensions header. 

Reads the Sec-\/\+Web\+Socket-\/\+Extensions header and determines if any of the requested extensions are supported by this processor. If they are their settings data is initialized.


\begin{DoxyParams}{Parameters}
{\em request} & The request headers to look at. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classwebsocketpp_1_1processor_1_1processor_aad69873505ba59f4ddf53e864f32bb80}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 88 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!prepare\+\_\+close@{prepare\+\_\+close}}
\index{prepare\+\_\+close@{prepare\+\_\+close}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{prepare\+\_\+close(close\+::status\+::value code, std\+::string const \&reason, message\+\_\+ptr out) const}{prepare\_close(close::status::value code, std::string const \&reason, message\_ptr out) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ virtual lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::prepare\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf close\+::status\+::value}}]{code, }
\item[{std\+::string const \&}]{reason, }
\item[{message\+\_\+ptr}]{out}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d}


Prepare a close frame. 

Close preparation is entirely state free. The code and reason are both subject to validation. Reason must be valid U\+T\+F-\/8. Code must be a valid un-\/reserved Web\+Socket close code. Use close\+::status\+::no\+\_\+status to indicate no code. If no code is supplied a reason may not be specified.


\begin{DoxyParams}{Parameters}
{\em code} & The close code to send \\
\hline
{\em reason} & The reason string to send \\
\hline
{\em out} & The message buffer to prepare the fame in \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code, zero on success, non-\/zero on failure 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_a189c400df6f5e325291794cb62053911}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 606 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!prepare\+\_\+control@{prepare\+\_\+control}}
\index{prepare\+\_\+control@{prepare\+\_\+control}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{prepare\+\_\+control(frame\+::opcode\+::value op, std\+::string const \&payload, message\+\_\+ptr out) const}{prepare\_control(frame::opcode::value op, std::string const \&payload, message\_ptr out) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::prepare\+\_\+control (
\begin{DoxyParamCaption}
\item[{frame\+::opcode\+::value}]{op, }
\item[{std\+::string const \&}]{payload, }
\item[{message\+\_\+ptr}]{out}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}


Generic prepare control frame with opcode and payload. 

Internal control frame building method. Handles validation, masking, etc


\begin{DoxyParams}{Parameters}
{\em op} & The control opcode to use \\
\hline
{\em payload} & The payload to use \\
\hline
{\em out} & The message buffer to store the prepared frame in \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code, zero on success, non-\/zero on error 
\end{DoxyReturn}


Definition at line 905 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!prepare\+\_\+data\+\_\+frame@{prepare\+\_\+data\+\_\+frame}}
\index{prepare\+\_\+data\+\_\+frame@{prepare\+\_\+data\+\_\+frame}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{prepare\+\_\+data\+\_\+frame(message\+\_\+ptr in, message\+\_\+ptr out)}{prepare\_data\_frame(message\_ptr in, message\_ptr out)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ virtual lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::prepare\+\_\+data\+\_\+frame (
\begin{DoxyParamCaption}
\item[{message\+\_\+ptr}]{in, }
\item[{message\+\_\+ptr}]{out}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab}


Prepare a user data message for writing. 

Performs validation, masking, compression, etc. will return an error if there was an error, otherwise msg will be ready to be written

By default Web\+Socket++ performs block masking/unmasking in a manner that makes assumptions about the nature of the machine and S\+TL library used. In particular the assumption is either a 32 or 64 bit word size and an S\+TL with std\+::string\+::data returning a contiguous char array.

This method improves masking performance by 3-\/8x depending on the ratio of small to large messages and the availability of a 64 bit processor.

To disable this optimization (for use with alternative S\+TL implementations or processors) define W\+E\+B\+S\+O\+C\+K\+E\+T\+P\+P\+\_\+\+S\+T\+R\+I\+C\+T\+\_\+\+M\+A\+S\+K\+I\+NG when compiling the library. This will force the library to perform masking in single byte chunks.

T\+O\+DO\+: tests


\begin{DoxyParams}{Parameters}
{\em in} & An unprepared message to prepare \\
\hline
{\em out} & A message to be overwritten with the prepared message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_a1345763249867d742390aa8e2076cb70}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 527 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!prepare\+\_\+pong@{prepare\+\_\+pong}}
\index{prepare\+\_\+pong@{prepare\+\_\+pong}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{prepare\+\_\+pong(std\+::string const \&in, message\+\_\+ptr out) const}{prepare\_pong(std::string const \&in, message\_ptr out) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::prepare\+\_\+pong (
\begin{DoxyParamCaption}
\item[{std\+::string const \&}]{in, }
\item[{message\+\_\+ptr}]{out}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321}{}\label{classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321}


Prepare a pong frame. 

Pong preparation is entirely state free. There is no payload validation other than length. Payload need not be U\+T\+F-\/8.


\begin{DoxyParams}{Parameters}
{\em in} & The string to use for the pong payload \\
\hline
{\em out} & The message buffer to prepare the pong in. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code, zero on success, non-\/zero on failure 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_afc8206bfe447a461d0e30a969b0af859}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 602 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!process\+\_\+handshake@{process\+\_\+handshake}}
\index{process\+\_\+handshake@{process\+\_\+handshake}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{process\+\_\+handshake(request\+\_\+type const \&request, std\+::string const \&subprotocol, response\+\_\+type \&response) const}{process\_handshake(request\_type const \&request, std::string const \&subprotocol, response\_type \&response) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::process\+\_\+handshake (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+type} const \&}]{req, }
\item[{std\+::string const \&}]{subprotocol, }
\item[{{\bf response\+\_\+type} \&}]{res}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383}{}\label{classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383}


Calculate the appropriate response for this websocket request. 


\begin{DoxyParams}{Parameters}
{\em req} & The request to process\\
\hline
{\em subprotocol} & The subprotocol in use\\
\hline
{\em res} & The response to store the processed response in\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 on success, non-\/zero for other errors 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_a64caf3ebac5333112f48eec496ec2a47}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 164 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!process\+\_\+payload\+\_\+bytes@{process\+\_\+payload\+\_\+bytes}}
\index{process\+\_\+payload\+\_\+bytes@{process\+\_\+payload\+\_\+bytes}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{process\+\_\+payload\+\_\+bytes(uint8\+\_\+t $\ast$buf, size\+\_\+t len, lib\+::error\+\_\+code \&ec)}{process\_payload\_bytes(uint8\_t *buf, size\_t len, lib::error\_code \&ec)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ size\+\_\+t {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::process\+\_\+payload\+\_\+bytes (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buf, }
\item[{size\+\_\+t}]{len, }
\item[{lib\+::error\+\_\+code \&}]{ec}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867}{}\label{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867}


Reads bytes from buf into message payload. 

This function performs unmasking and uncompression, validates the decoded bytes, and writes them to the appropriate message buffer.

This member function will use the input buffer as stratch space for its work. The raw input bytes will not be preserved. This applies only to the bytes actually needed. At most min(m\+\_\+bytes\+\_\+needed,len) will be processed.


\begin{DoxyParams}{Parameters}
{\em buf} & Input/working buffer \\
\hline
{\em len} & Length of buf \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes processed or zero in case of an error 
\end{DoxyReturn}


Definition at line 709 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!validate\+\_\+handshake@{validate\+\_\+handshake}}
\index{validate\+\_\+handshake@{validate\+\_\+handshake}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{validate\+\_\+handshake(request\+\_\+type const \&r) const}{validate\_handshake(request\_type const \&r) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::validate\+\_\+handshake (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+type} const \&}]{request}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af17a224a602ebcda5e481d8c249cf37c}{}\label{classwebsocketpp_1_1processor_1_1hybi13_af17a224a602ebcda5e481d8c249cf37c}


validate a Web\+Socket handshake request for this version 


\begin{DoxyParams}{Parameters}
{\em request} & The Web\+Socket handshake request to validate. is\+\_\+websocket\+\_\+handshake(request) must be true and get\+\_\+websocket\+\_\+version(request) must equal this-\/$>$\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b}{get\+\_\+version()}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A status code, 0 on success, non-\/zero for specific sorts of failure 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_a8828f7d91c534309deb966b783eb1f8e}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 140 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!validate\+\_\+incoming\+\_\+basic\+\_\+header@{validate\+\_\+incoming\+\_\+basic\+\_\+header}}
\index{validate\+\_\+incoming\+\_\+basic\+\_\+header@{validate\+\_\+incoming\+\_\+basic\+\_\+header}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{validate\+\_\+incoming\+\_\+basic\+\_\+header(frame\+::basic\+\_\+header const \&h, bool is\+\_\+server, bool new\+\_\+msg) const}{validate\_incoming\_basic\_header(frame::basic\_header const \&h, bool is\_server, bool new\_msg) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::validate\+\_\+incoming\+\_\+basic\+\_\+header (
\begin{DoxyParamCaption}
\item[{{\bf frame\+::basic\+\_\+header} const \&}]{h, }
\item[{bool}]{is\+\_\+server, }
\item[{bool}]{new\+\_\+msg}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad}


Validate an incoming basic header. 

Validates an incoming \hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{hybi13} basic header.


\begin{DoxyParams}{Parameters}
{\em h} & The basic header to validate \\
\hline
{\em is\+\_\+server} & Whether or not the endpoint that received this frame is a server. \\
\hline
{\em new\+\_\+msg} & Whether or not this is the first frame of the message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success or a non-\/zero error code on failure 
\end{DoxyReturn}


Definition at line 768 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!validate\+\_\+incoming\+\_\+extended\+\_\+header@{validate\+\_\+incoming\+\_\+extended\+\_\+header}}
\index{validate\+\_\+incoming\+\_\+extended\+\_\+header@{validate\+\_\+incoming\+\_\+extended\+\_\+header}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{validate\+\_\+incoming\+\_\+extended\+\_\+header(frame\+::basic\+\_\+header h, frame\+::extended\+\_\+header e) const}{validate\_incoming\_extended\_header(frame::basic\_header h, frame::extended\_header e) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::validate\+\_\+incoming\+\_\+extended\+\_\+header (
\begin{DoxyParamCaption}
\item[{{\bf frame\+::basic\+\_\+header}}]{h, }
\item[{{\bf frame\+::extended\+\_\+header}}]{e}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753}{}\label{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753}


Validate an incoming extended header. 

Validates an incoming \hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{hybi13} full header.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000046}{Todo}]unit test for the $>$32 bit frames on 32 bit systems case\end{DoxyRefDesc}



\begin{DoxyParams}{Parameters}
{\em h} & The basic header to validate \\
\hline
{\em e} & The extended header to validate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error\+\_\+code, non-\/zero values indicate why the validation failed 
\end{DoxyReturn}


Definition at line 846 of file hybi13.\+hpp.

\index{websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}!validate\+\_\+server\+\_\+handshake\+\_\+response@{validate\+\_\+server\+\_\+handshake\+\_\+response}}
\index{validate\+\_\+server\+\_\+handshake\+\_\+response@{validate\+\_\+server\+\_\+handshake\+\_\+response}!websocketpp\+::processor\+::hybi13@{websocketpp\+::processor\+::hybi13}}
\subsubsection[{\texorpdfstring{validate\+\_\+server\+\_\+handshake\+\_\+response(request\+\_\+type const \&req, response\+\_\+type \&res) const}{validate\_server\_handshake\_response(request\_type const \&req, response\_type \&res) const}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename config$>$ lib\+::error\+\_\+code {\bf websocketpp\+::processor\+::hybi13}$<$ {\bf config} $>$\+::validate\+\_\+server\+\_\+handshake\+\_\+response (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+type} const \&}]{req, }
\item[{{\bf response\+\_\+type} \&}]{res}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8}{}\label{classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8}


Validate the server\textquotesingle{}s response to an outgoing handshake request. 


\begin{DoxyParams}{Parameters}
{\em req} & The original request sent \\
\hline
{\em res} & The reponse to generate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 on success, non-\/zero for other errors 
\end{DoxyReturn}


Implements \hyperlink{classwebsocketpp_1_1processor_1_1processor_ab1228fa9350d9646379888ad528fd4c4}{websocketpp\+::processor\+::processor$<$ config $>$}.



Definition at line 235 of file hybi13.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/network/\+N\+S\+O\+L/ndn\+S\+I\+M-\/dev/ns-\/3/src/ndn\+S\+I\+M/\+N\+F\+D/websocketpp/websocketpp/processors/hybi13.\+hpp\end{DoxyCompactItemize}
