<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ndnSIM for iCenS: nfd::DeadNonceList Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ndnSIM for iCenS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,'Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenfd.html">nfd</a></li><li class="navelem"><a class="el" href="classnfd_1_1DeadNonceList.html">DeadNonceList</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classnfd_1_1DeadNonceList-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nfd::DeadNonceList Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>represents the Dead Nonce list  
 <a href="classnfd_1_1DeadNonceList.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dead-nonce-list_8hpp_source.html">dead-nonce-list.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for nfd::DeadNonceList:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classnfd_1_1DeadNonceList.png" usemap="#nfd::DeadNonceList_map" alt=""/>
  <map id="nfd::DeadNonceList_map" name="nfd::DeadNonceList_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9bb957fb8255097b73106f4c25298086"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnfd_1_1DeadNonceList.html#a9bb957fb8255097b73106f4c25298086">DeadNonceList</a> (const time::nanoseconds &amp;lifetime=<a class="el" href="classnfd_1_1DeadNonceList.html#a920d3d1b46f04b27cb162b12c482a3fc">DEFAULT_LIFETIME</a>)</td></tr>
<tr class="memdesc:a9bb957fb8255097b73106f4c25298086"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructs the Dead Nonce List  <a href="#a9bb957fb8255097b73106f4c25298086">More...</a><br /></td></tr>
<tr class="separator:a9bb957fb8255097b73106f4c25298086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d5cc819a5424be2ebf3320ef450113"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnfd_1_1DeadNonceList.html#a72d5cc819a5424be2ebf3320ef450113">has</a> (const <a class="el" href="classndn_1_1Name.html">Name</a> &amp;name, uint32_t nonce) const</td></tr>
<tr class="memdesc:a72d5cc819a5424be2ebf3320ef450113"><td class="mdescLeft">&#160;</td><td class="mdescRight">determines if name+nonce exists  <a href="#a72d5cc819a5424be2ebf3320ef450113">More...</a><br /></td></tr>
<tr class="separator:a72d5cc819a5424be2ebf3320ef450113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e1ae3a3078544fe1d28fac037c2d6e"><td class="memItemLeft" align="right" valign="top"><a id="aa4e1ae3a3078544fe1d28fac037c2d6e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnfd_1_1DeadNonceList.html#aa4e1ae3a3078544fe1d28fac037c2d6e">add</a> (const <a class="el" href="classndn_1_1Name.html">Name</a> &amp;name, uint32_t nonce)</td></tr>
<tr class="memdesc:aa4e1ae3a3078544fe1d28fac037c2d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">records name+nonce <br /></td></tr>
<tr class="separator:aa4e1ae3a3078544fe1d28fac037c2d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae6e2e76d15154c40e51122eb6f7145"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnfd_1_1DeadNonceList.html#a7ae6e2e76d15154c40e51122eb6f7145">size</a> () const</td></tr>
<tr class="separator:a7ae6e2e76d15154c40e51122eb6f7145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967388241d9be15f0a194b7be2727490"><td class="memItemLeft" align="right" valign="top">const time::nanoseconds &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnfd_1_1DeadNonceList.html#a967388241d9be15f0a194b7be2727490">getLifetime</a> () const</td></tr>
<tr class="separator:a967388241d9be15f0a194b7be2727490"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a920d3d1b46f04b27cb162b12c482a3fc"><td class="memItemLeft" align="right" valign="top"><a id="a920d3d1b46f04b27cb162b12c482a3fc"></a>
static const time::nanoseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnfd_1_1DeadNonceList.html#a920d3d1b46f04b27cb162b12c482a3fc">DEFAULT_LIFETIME</a> = time::seconds(6)</td></tr>
<tr class="memdesc:a920d3d1b46f04b27cb162b12c482a3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">default entry lifetime <br /></td></tr>
<tr class="separator:a920d3d1b46f04b27cb162b12c482a3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab381814adcd0b687b47162e2a0445535"><td class="memItemLeft" align="right" valign="top"><a id="ab381814adcd0b687b47162e2a0445535"></a>
static const time::nanoseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnfd_1_1DeadNonceList.html#ab381814adcd0b687b47162e2a0445535">MIN_LIFETIME</a> = time::milliseconds(1)</td></tr>
<tr class="memdesc:ab381814adcd0b687b47162e2a0445535"><td class="mdescLeft">&#160;</td><td class="mdescRight">minimum entry lifetime <br /></td></tr>
<tr class="separator:ab381814adcd0b687b47162e2a0445535"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>represents the Dead Nonce list </p>
<p>The Dead Nonce List is a global table that supplements PIT for loop detection. When a Nonce is erased (dead) from PIT entry, the Nonce and the Interest Name is added to Dead Nonce List, and kept for a duration in which most loops are expected to have occured.</p>
<p>To reduce memory usage, the Interest Name and Nonce are stored as a 64-bit hash. There could be false positives (non-looping Interest could be considered looping), but the probability is small, and the error is recoverable when consumer retransmits with a different Nonce.</p>
<p>To reduce memory usage, entries do not have associated timestamps. Instead, lifetime of entries is controlled by dynamically adjusting the capacity of the container. At fixed intervals, the MARK, an entry with a special value, is inserted into the container. The number of MARKs stored in the container reflects the lifetime of entries, because MARKs are inserted at fixed intervals. </p>

<p>Definition at line <a class="el" href="dead-nonce-list_8hpp_source.html#l00054">54</a> of file <a class="el" href="dead-nonce-list_8hpp_source.html">dead-nonce-list.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9bb957fb8255097b73106f4c25298086"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nfd::DeadNonceList::DeadNonceList </td>
          <td>(</td>
          <td class="paramtype">const time::nanoseconds &amp;&#160;</td>
          <td class="paramname"><em>lifetime</em> = <code><a class="el" href="classnfd_1_1DeadNonceList.html#a920d3d1b46f04b27cb162b12c482a3fc">DEFAULT_LIFETIME</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>constructs the Dead Nonce List </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lifetime</td><td>duration of the expected lifetime of each nonce, must be no less than MIN_LIFETIME. This should be set to the duration in which most loops would have occured. A loop cannot be detected if delay of the cycle is greater than lifetime. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if lifetime is less than MIN_LIFETIME </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dead-nonce-list_8cpp_source.html#l00045">45</a> of file <a class="el" href="dead-nonce-list_8cpp_source.html">dead-nonce-list.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a967388241d9be15f0a194b7be2727490"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const time::nanoseconds &amp; nfd::DeadNonceList::getLifetime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>expected lifetime </dd></dl>

<p>Definition at line <a class="el" href="dead-nonce-list_8hpp_source.html#l00215">215</a> of file <a class="el" href="dead-nonce-list_8hpp_source.html">dead-nonce-list.hpp</a>.</p>

</div>
</div>
<a id="a72d5cc819a5424be2ebf3320ef450113"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nfd::DeadNonceList::has </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classndn_1_1Name.html">Name</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nonce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>determines if name+nonce exists </p>
<dl class="section return"><dt>Returns</dt><dd>true if name+nonce exists </dd></dl>

<p>Definition at line <a class="el" href="dead-nonce-list_8cpp_source.html#l00090">90</a> of file <a class="el" href="dead-nonce-list_8cpp_source.html">dead-nonce-list.cpp</a>.</p>

</div>
</div>
<a id="a7ae6e2e76d15154c40e51122eb6f7145"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nfd::DeadNonceList::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>number of stored Nonces </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The return value does not contain non-Nonce entries in the index, if any. </dd></dl>

<p>Definition at line <a class="el" href="dead-nonce-list_8cpp_source.html#l00084">84</a> of file <a class="el" href="dead-nonce-list_8cpp_source.html">dead-nonce-list.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/network/NSOL/ndnSIM-dev/ns-3/src/ndnSIM/NFD/daemon/table/<a class="el" href="dead-nonce-list_8hpp_source.html">dead-nonce-list.hpp</a></li>
<li>/home/network/NSOL/ndnSIM-dev/ns-3/src/ndnSIM/NFD/daemon/table/<a class="el" href="dead-nonce-list_8cpp_source.html">dead-nonce-list.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
